<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mattepromenaden</title>

<style>
*{
  box-sizing:border-box;
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color:transparent;
}
body{
  margin:0;
  background:#1e3a8a;
  overflow:hidden;
  font-family:system-ui,sans-serif;
}

/* ===== SPEL ===== */
#game{
  position:relative;
  height:60vh;
  background:linear-gradient(#60a5fa,#86efac);
  overflow:hidden;
}
#world{
  position:absolute;
  bottom:0;
  left:0;
  width:7200px;
  height:100%;
}

/* ===== MARK (BACKAR) ===== */
.segment{
  position:absolute;
  bottom:0;
  background:#22c55e;
}
.segment.flat{ height:80px; }
.segment.up{ height:120px; }
.segment.down{ height:60px; }

/* ===== MILJ√ñ ===== */
.tree{
  position:absolute;
  bottom:80px;
  width:40px;
  height:90px;
}
.tree::before{
  content:"";
  position:absolute;
  bottom:0; left:14px;
  width:12px; height:40px;
  background:#92400e;
}
.tree::after{
  content:"";
  position:absolute;
  bottom:30px; left:-15px;
  width:70px; height:60px;
  background:#16a34a;
  border-radius:50%;
}

/* ===== HINDER ===== */
.obstacle{
  position:absolute;
  bottom:80px;
  width:44px;
  height:44px;
  background:#7c3aed;
  border-radius:8px;
  color:white;
  font-size:1.6rem;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ===== FLAGGA ===== */
#goal{
  position:absolute;
  bottom:80px;
  left:6800px;
}
#pole{
  width:6px;
  height:140px;
  background:white;
}
#flag{
  position:absolute;
  left:6px;
  bottom:20px;
  width:36px;
  height:24px;
  background:#ef4444;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
}

/* ===== GUBBE ===== */
#player{
  position:absolute;
  left:200px;
  bottom:80px;
  width:40px;
}
.head{
  width:24px;height:24px;
  background:#fde68a;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto;
}
.body{
  width:20px;height:28px;
  background:#2563eb;
  margin:2px auto 0;
  border-radius:6px;
}
.legs{
  display:flex;
  justify-content:space-between;
  width:30px;
  margin:0 auto;
}
.leg{
  width:12px;height:20px;
  background:#1e293b;
  border-radius:6px;
}
.walking .leg{
  animation:walk .25s alternate infinite;
}
@keyframes walk{
  from{transform:rotate(10deg)}
  to{transform:rotate(-10deg)}
}

/* ===== HUND ===== */
#dog{
  position:absolute;
  bottom:80px;
  left:160px;
  width:28px;
}
.dog-body{
  width:28px;height:16px;
  background:#d6a25e;
  border-radius:10px;
}
.tail{
  width:10px;height:4px;
  background:#d6a25e;
  position:absolute;
  right:-8px;top:6px;
  transform-origin:left center;
}
.wag .tail{
  animation:wag .3s infinite alternate;
}
@keyframes wag{
  from{transform:rotate(20deg)}
  to{transform:rotate(-20deg)}
}
#bark{
  position:absolute;
  top:-24px;
  left:-10px;
  font-size:14px;
  display:none;
}

/* ===== KONTROLLER ===== */
#controls{
  display:flex;
  justify-content:center;
  gap:30px;
  padding:12px;
  background:#0f172a;
}
button{
  font-size:1.8rem;
  padding:12px 18px;
  border-radius:14px;
  border:none;
  background:#1e3a8a;
  color:white;
}
</style>
</head>

<body>

<div id="game">
  <div id="world">

    <!-- MARK -->
    <div class="segment flat" style="left:0;width:800px"></div>
    <div class="segment up" style="left:800px;width:600px"></div>
    <div class="segment flat" style="left:1400px;width:600px"></div>
    <div class="segment down" style="left:2000px;width:600px"></div>
    <div class="segment flat" style="left:2600px;width:1000px"></div>

    <!-- TR√ÑD -->
    <div class="tree" style="left:500px"></div>
    <div class="tree" style="left:1800px"></div>
    <div class="tree" style="left:3000px"></div>

    <!-- HINDER -->
    <div class="obstacle" style="left:900px">?</div>
    <div class="obstacle" style="left:1600px">?</div>
    <div class="obstacle" style="left:2400px">?</div>

    <!-- M√ÖL -->
    <div id="goal">
      <div id="pole"></div>
      <div id="flag">üëç</div>
    </div>
  </div>

  <!-- GUBBE -->
  <div id="player">
    <div class="head">üôÇ</div>
    <div class="body"></div>
    <div class="legs">
      <div class="leg"></div><div class="leg"></div>
    </div>
  </div>

  <!-- HUND -->
  <div id="dog">
    <div id="bark">voff voff!</div>
    <div class="dog-body"></div>
    <div class="tail"></div>
  </div>
</div>

<div id="controls">
  <button id="leftBtn">‚¨ÖÔ∏è</button>
  <button id="jumpBtn">‚¨ÜÔ∏è</button>
  <button id="rightBtn">‚û°Ô∏è</button>
</div>

<script>
let x=200;
let dogX=160;
let vx=0;
let walking=false;

function update(){
  x+=vx;
  if(x>6700) x=6700; // stop vid m√•l

  player.style.left=x+"px";

  // hund f√∂ljer
  if(Math.abs(dogX-x)>40){
    dogX+= (x>dogX?2:-2);
    dog.classList.remove("wag");
  }else{
    dog.classList.add("wag");
  }
  dog.style.left=dogX+"px";

  requestAnimationFrame(update);
}
update();

rightBtn.onpointerdown=()=>{vx=2;player.classList.add("walking");};
rightBtn.onpointerup=()=>{vx=0;player.classList.remove("walking");};
leftBtn.onpointerdown=()=>{vx=-2;player.classList.add("walking");};
leftBtn.onpointerup=()=>{vx=0;player.classList.remove("walking");};
</script>

</body>
</html>